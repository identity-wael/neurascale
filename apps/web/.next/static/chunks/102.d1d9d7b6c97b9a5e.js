"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{102:function(e,t,r){r.r(t),r.d(t,{default:function(){return a}});var n=r(7821),i=r(8078);function a(){let e=(0,i.useRef)(null),[t,a]=(0,i.useState)(null),[o,s]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{try{let t;s(!0);let n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=/chrome/i.test(navigator.userAgent)&&!n,a="gpu"in navigator&&navigator.gpu;console.log("Browser detection:",{isSafari:n,isChrome:i,hasWebGPU:a,userAgent:navigator.userAgent});let o=await r.e(480).then(r.bind(r,1901));if(!e.current)return;if(i&&a)try{console.log("Attempting WebGPU initialization for Chrome...");let n=await navigator.gpu.requestAdapter();if(!n)throw Error("No WebGPU adapter available");if(!await n.requestDevice())throw Error("WebGPU device creation failed");t=new(await Promise.all([r.e(480),r.e(418)]).then(r.bind(r,418))).WebGPURenderer({canvas:e.current,antialias:!0}),await t.init(),console.log("✅ Successfully using WebGPU renderer")}catch(n){console.log("❌ WebGPU failed, falling back to WebGL:",n);let r={canvas:e.current,antialias:!0,alpha:!0,preserveDrawingBuffer:!1,powerPreference:"high-performance"};t=new o.WebGLRenderer(r),console.log("\uD83D\uDD04 Using WebGL renderer (Chrome fallback)")}else{let r={canvas:e.current,antialias:!n,alpha:!0,preserveDrawingBuffer:!1,powerPreference:n?"default":"high-performance"};t=new o.WebGLRenderer(r),console.log("\uD83C\uDF10 Using WebGL renderer (Safari/other browsers)")}t.setPixelRatio(Math.min(window.devicePixelRatio,n?1:2)),t.setSize(window.innerWidth,window.innerHeight),t.setClearColor(0),n&&(t.outputColorSpace=o.SRGBColorSpace,t.toneMapping=o.NoToneMapping);let l=new o.Scene,d=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,100);d.position.set(3,3,3);let c={count:n?5e4:i?15e4:1e5,size:n?.015:.01,radius:5,branches:3,spin:1,randomness:.2,randomnessPower:3,insideColor:"#ffffff",outsideColor:"#4185f4"},u=new o.BufferGeometry,w=new Float32Array(3*c.count),h=new Float32Array(3*c.count),f=new o.Color(c.insideColor),m=new o.Color(c.outsideColor);for(let e=0;e<c.count;e++){let t=3*e,r=Math.random()*c.radius,n=r*c.spin,i=e%c.branches/c.branches*Math.PI*2,a=Math.pow(Math.random(),c.randomnessPower)*(.5>Math.random()?1:-1)*c.randomness*r,o=Math.pow(Math.random(),c.randomnessPower)*(.5>Math.random()?1:-1)*c.randomness*r,s=Math.pow(Math.random(),c.randomnessPower)*(.5>Math.random()?1:-1)*c.randomness*r;w[t]=Math.cos(i+n)*r+a,w[t+1]=o,w[t+2]=Math.sin(i+n)*r+s;let l=f.clone();l.lerp(m,r/c.radius),h[t]=l.r,h[t+1]=l.g,h[t+2]=l.b}u.setAttribute("position",new o.BufferAttribute(w,3)),u.setAttribute("color",new o.BufferAttribute(h,3));let p=new o.PointsMaterial({size:c.size,sizeAttenuation:!0,depthWrite:!1,blending:o.AdditiveBlending,vertexColors:!0}),g=new o.Points(u,p);l.add(g);let b=new o.AmbientLight(16777215,.5);l.add(b);let v=new o.DirectionalLight(16777215,1);v.position.set(1,1,1),l.add(v),t.setAnimationLoop(()=>{g.rotation.y+=.001,d.lookAt(l.position),t.render(l,d)}),s(!1);let x=()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),t.dispose()}}catch(e){console.error("DataUniverse initialization error:",e),a("3D Rendering Error: ".concat(e instanceof Error?e.message:"Unknown error")),s(!1)}})()},[]),t)?(0,n.jsx)("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-black text-white",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-red-400 mb-2",children:"3D Visualization Error"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:t}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Your browser may not support WebGL"})]})}):(0,n.jsxs)("div",{className:"absolute inset-0 w-full h-full",children:[o&&(0,n.jsx)("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-black text-white z-10",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Loading 3D Visualization..."})]})}),(0,n.jsx)("canvas",{ref:e,className:"w-full h-full"})]})}}}]);