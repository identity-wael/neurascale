# Kong API Gateway Environment Configuration
# NeuraScale Neural Engine - Phase 12 API Implementation

# Kong Database Configuration
KONG_PG_PASSWORD=kong-neurascale-2025
KONG_PG_HOST=kong-database
KONG_PG_USER=kong
KONG_PG_DATABASE=kong

# Kong Gateway Configuration
KONG_ADMIN_LISTEN=0.0.0.0:8001, 0.0.0.0:8444 ssl
KONG_PROXY_LISTEN=0.0.0.0:8000, 0.0.0.0:8443 ssl
KONG_LOG_LEVEL=info
KONG_PLUGINS=bundled,circuit-breaker

# Security Configuration
KONG_TRUSTED_IPS=0.0.0.0/0,::/0
KONG_REAL_IP_HEADER=X-Forwarded-For
KONG_REAL_IP_RECURSIVE=on

# Performance Configuration
KONG_WORKER_PROCESSES=auto
KONG_WORKER_CONNECTIONS=4096
KONG_UPSTREAM_KEEPALIVE_POOL_SIZE=60
KONG_UPSTREAM_KEEPALIVE_MAX_REQUESTS=100
KONG_UPSTREAM_KEEPALIVE_IDLE_TIMEOUT=60

# SSL Configuration
KONG_SSL_CERT=/etc/kong/ssl/kong.crt
KONG_SSL_CERT_KEY=/etc/kong/ssl/kong.key
KONG_ADMIN_SSL_CERT=/etc/kong/ssl/admin.crt
KONG_ADMIN_SSL_CERT_KEY=/etc/kong/ssl/admin.key

# Monitoring Configuration
GRAFANA_PASSWORD=neurascale-grafana-2025
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_RETENTION_SIZE=10GB

# Redis Configuration (for rate limiting)
REDIS_HOST=kong-redis
REDIS_PORT=6379
REDIS_PASSWORD=

# API Backend Configuration
API_HOST=neural-engine-api
API_PORT=8000
API_PROTOCOL=http

# Development Settings
ENVIRONMENT=development
DEBUG=false

# Custom JWT Secrets (rotate in production)
PYTHON_SDK_SECRET=neurascale-python-sdk-secret-key-2025
JS_SDK_SECRET=neurascale-js-sdk-secret-key-2025
WEBAPP_SECRET=neurascale-webapp-secret-key-2025
MOBILE_SECRET=neurascale-mobile-secret-key-2025

# Rate Limiting Configuration
RATE_LIMIT_MINUTE=1000
RATE_LIMIT_HOUR=50000
RATE_LIMIT_DAY=1000000

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=50
CIRCUIT_BREAKER_RECOVERY_WINDOW=30
CIRCUIT_BREAKER_REQUEST_THRESHOLD=10

# Load Balancer Configuration
UPSTREAM_ALGORITHM=round-robin
HEALTH_CHECK_INTERVAL=5
HEALTH_CHECK_TIMEOUT=1
HEALTH_CHECK_PATH=/api/v2/health
